<div class="card">
  <app-search-section></app-search-section>
  <hr />
  <div
    class="m-2 lg:m-4 shadow-sm overflow-hidden rounded-lg border-[1px] border-solid border-[#004d85]"
    [@fadeInDown]
  >
    <p-table
      [value]="searchResults"
      [paginator]="true"
      [rows]="10"
      [showCurrentPageReport]="true"
      [tableStyle]="{ 'min-width': '50rem' }"
      [loading]="loading"
      selectionMode="single"
      (onRowSelect)="onRowSelect($event)"
    >
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="requestId" style="width: 15%">
            <div class="flex items-center">
              <span>Request ID</span>
              <p-sortIcon field="requestId" class="d-inline"></p-sortIcon>
            </div>
          </th>
          <th pSortableColumn="creationTimestamp" style="width: 18%">
            <div class="flex items-center">
              <span>Creation Timestamp</span>
              <p-sortIcon
                field="creationTimestamp"
                class="d-inline"
              ></p-sortIcon>
            </div>
          </th>
          <th pSortableColumn="flowType">
            <div class="flex items-center">
              <span>Flow Type</span>
              <p-sortIcon field="flowType" class="d-inline"></p-sortIcon>
            </div>
          </th>
          <th pSortableColumn="senderBic">
            <div class="flex items-center">
              <span>Sender BIC</span>
              <p-sortIcon field="senderBic"></p-sortIcon>
            </div>
          </th>
          <th pSortableColumn="receiverBic">
            <div class="flex items-center">
              <span>Receiver BIC</span>
              <p-sortIcon field="receiverBic"></p-sortIcon>
            </div>
          </th>
          <th pSortableColumn="statusCode">
            <div class="flex items-center">
              <span>Status Code</span>
              <p-sortIcon field="statusCode"></p-sortIcon>
            </div>
          </th>
          <th pSortableColumn="statusReason">
            <div class="flex items-center">
              <span>Status Reason</span>
              <p-sortIcon field="statusReason"></p-sortIcon>
            </div>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-item>
        <tr [pSelectableRow]="item">
          <td>{{ item.requestId ?? "-" }}</td>
          <td>
            {{
              item.creationTimestamp
                ? getFormatDate(item.creationTimestamp)
                : "-"
            }}
          </td>
          <td>{{ item.flowType ?? "-" }}</td>
          <td>{{ item.senderBic ?? "-" }}</td>
          <td>{{ item.receiverBic ?? "-" }}</td>
          <td>{{ item.statusCode ?? "-" }}</td>
          <td>{{ item.statusReason ?? "-" }}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="7" class="text-center p-3">No records found</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
